## Proxy Cache

**Buffer vs Cache**

Buffer和Cache都是用于提供IO吞吐效率的. 但是概念不同.

Buffer, "缓冲", 主要用于传输效率不同步或者优先级别不相同的设备之间传递数据. 一般通过对一方数据进行临时
存放, 再统一发送的方法传递给另一方, 以降低进程之间的等待时间, 保证速度较快的进程不发生间断, 临时存放的数
据一旦传递给另一方, 这些数据本身也没有用处了.

Cache, "缓存", 主要用于将硬盘上已有的数据在内存中建立缓存数据, 提高数据的访问效率, 对于过期不使用的缓存
可以随时销毁, 但不会销毁硬盘上的数据.


---

Proxy Buffer 与 Proxy Cache都与代理服务相关. 主要用来提供客户端和被代理服务器之间的交换效率.

Proxy Buffer实现了被代理服务器响应数据的异步传输;

Proxy Cache实现nginx服务器对客户端数据请求的快速响应;

>nginx服务器在接收到被代理服务器的响应数据之后, 一方面通过Proxy Buffer机制将数据传递给客户端, 另一方面
根据Proxy Cache的配置将这些数据缓存到本地硬盘上. 当客户端下次访问相同的数据时, nginx服务器直接从硬盘检
索到相应的数据返回给用户, 从而减少与被代理服务器交互的时间.

>注意: Proxy Cache机制依赖于Proxy Buffer机制, 只有在Proxy Buffer机制开启的状况下Proxy Cache的配
置才能发挥作用.
 

nginx还提供了另外一种将被代理服务器数据缓存到本地的方法Proxy Store, 与Proxy Cache的区别是, 它对来自被
代理服务器的响应数据, 尤其是**静态数据**只进行简单的缓存, 不支持缓存过期更新, 内存索引建立等功能, 但支持设
置用户或者用户组对缓存数据的访问权限.

