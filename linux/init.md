# Linux 启动引导顺序

- linux 运行级别

| 运行级别 | 说明 |
| --- | --- |
| 0 | 关闭 |
| 1 | 单一用户模式(一般仅用于管理目的) |
| 2 | 多用户模式, 不允许使用网络 |
| 3 | 多用户模式, 允许使用网络 |
| 4 | 没有用到 |
| 5 | 多用户模式, 允许使用网络, X-Windows模式(图形化界面) |
| 6 | 重新引导 |


- 系统服务

在 `/etc/init.d` 目录下是所有服务的脚本. 在 `/etc/rcN.d` 目录下是运行级别为N的服务启动脚本, 它是对
/etc/init.d 目录下服务脚本建立的链接. `/etc/rcN.d` 目录下脚本命名规则如下:

```
[K|S][number][service] --> ../init.d/serveice

    S 表示Start, 开启服务
    K 表示Kill, 关闭服务
    number 表示的是该脚本的运行优先级, number越小, 脚本的运行优先级就越高
    service 表示服务的名称
```

- 开机过程

1.加载内核

```
打开电脑电源, 开始读取BIOS并进行主机的自我测试; 透过BIOS取得第一个可开机装置, 读取主要开启(MBR)取得开机
管理程序;

LILO启动之后, 第一个被加载的东西的内核. 此时的计算机内存中还不存在任何操作系统, PC也还没有办法读取机器上
全部的内存. 因此, 内核就必须完整地加载到可用RAM的第一个兆字节之内. 为了实现这个目的, 内核是被压缩了的. 这
个文件的头部包含着必要的代码, 先设置CPU进入安全模式(以此解除内存限制), 再对内核的剩余部分解压缩.
```

2.执行内核

```
内核在内存当中解压缩之后, 就可以开始执行了. 此时的内核只知道它本身内建的各种功能, 也就是说被编译为模块的内核
部分还不能使用. 最基本的是, 内核必须有足够的代码设置自己的虚拟内存子系统和根文件系统(通常是ext2文件系统). 一
旦内核启动运行, 对硬件的检测就会决定需要对哪些设备驱动程序进行初始化. 从这里开始, 内核就能够挂载根文件系统(这
个过程类似Windows识别并存取C盘的过程) .内核挂载了根文件系统之后, 将启动并运行一个叫做init的程序.

注意: 挂载顺序可以参考 /var/log/boot.log 日志的详情
```

3.init进程

```
init程序开始执行系统初始化. 执行 /etc/rcN.d 下的启动脚本
```

4.载入本机设定(/etc/rc.local 或者 /etc/rc.d/rc.local)

```
rc.local文件
```