# mysql 时间类型解析

MySQL 表示时间值的日期和时间类型是`DATE`, `TIME`, `DATETIME`, `TIMESTAMP` 和 `YEAR`. 每个时间类型
都有一系列有效值, 以及当遇到了 MySQL `无法表示的无效值` 时可以使用的"零"值. `TIMESTAMP` 类型具有特殊的自
动更新行为, 稍后将对此进行描述.

## 使用日期和时间类型时, 一般注意事项

- 尽管MySQL试图以多种格式解释数值, 但日期部分必须始终以 `年-月-日` 的顺序(例如,'98-09-04') 给出, 而不是
以 `月-日-年` 或 `日-月-年`.

- 包含两位数年份值的日期不明确, 因为这个世纪是未知的. MySQL使用以下规则解释两位数的年份值: \
```
70-99范围内的年份值转换为1970-1999.

00-69范围内的年份值将转换为2000-2069.
```

- 如果在数值环境下使用日期类型值, MySQL会自动将 `Date` 或 `Time` 转换成数字. 反之亦然.

- 默认情况下, 当MySQL遇到 `超出范围的日期或时间类型的值` 或者 `对于该类型无效的值`, 它会将该值转换为该类型
的"零"值. **例外情况是超出范围的 TIME 值被剪切到 TIME 范围的适当端点**.

- 通过将SQL模式设置为适当的值, 可以更准确地指定希望MySQL支持的日期类型. 通过启用 `ALLOW_INVALID_DATES`
SQL模式, 可以让MySQL接受某些日期, 例如"2009-11-31". 当希望存储用户在数据库中指定的"可能错误"值(例如, 在
Web表单中)以供将来处理时, 这非常有用. 在此模式下, MySQL `仅验证月份是否在1到12的范围内, 并且该日期的范围是
1到31`.
 
- MySQL 允许在 `DATE` 或 `DATETIME` 列中存储 `日期或月份` 和 `日期` 为零的日期类型值. 这对于需要存储可
能不知道确切日期的生日的应用程序非常有用.  在这种情况下, 只需将日期存储为"2009-00-00" 或 "2009-01-00". 
如果存储诸如此类的日期, 则不能通过使用 `DATE_SUB()` 或 `DATE_ADD()` 等函数去获得需要完整日期的的正确结果.
要禁止日期中 `零月` 或 `零日` 时, 请启用 `NO_ZERO_IN_DATE` 模式.

- MySQL允许将 "0000-00-00" 的 "零" 值存储为 "dummy date", 这在某些情况下比使用NULL值更方便, 并且使用更
少的数据和索引空间. 要禁止 "0000-00-00", 请启用 `NO_ZERO_DATE` 模式.

- 通过 Connector / ODBC 使用的 "零" 日期或时间值会自动转换为NULL, 因为 ODBC 无法处理此类值.

下表显示了每种类型的 "零" 值的格式. "零" 值是特殊的, 但可以使用表中显示的值显式地存储或引用它们. 也可以使用值
"0" 或 0 来执行此操作, 这样更容易编写. 对于包含日期部分(DATE, DATETIME 和 TIMESTAMP)的临时类型, 如果启用
了 `NO_ZERO_DATE` SQL模式, 则使用这些值会产生警告.

| TYPE | "Zero" Value |
| --- | --- |
| DATE | '0000-00-00' |
| TIME | '00:00:00' |
| DATETIME | '0000-00-00 00:00:00 |
| TIMESTAMP | '0000-00-00 00:00:00 |
| YEAR | 0000 |


